<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" th:href="@{/css/main.css}">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="icon" th:href="@{/icon/logoPMS.png}">
    <title>Registration Patient</title>

</head>
<body>
         <!-- Start Nav Bar -->
         <nav class="navbar fixed-top" style="border-bottom: 1px solid #cecece !important;">
          <div class=" d-flex flex-row">
              <a class="hamburger navbar-brand" href="#"> <img
                  th:src="@{/icon/hamburger.png}" alt="Logo" width="25"
                  height="30"></a>
              <div class="container d-flex flex-row justify-content-start">
              <a class="navbar-brand" href="#"> <img
                  th:src="@{/icon/logoPMS.png}" alt="Logo" width="35"
                  height="35" class="d-inline-block align-text-top"> PMSystems
              </a>
              </div>
          </div>
          
            <div class="dropdown justify-content-end nav-item" style="margin-right: 40px;">
              <button class="btn dropdown-toggle" type="button" id="settingsDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="material-symbols-outlined"
                  style="margin-top: 10px;" > settings </span>
              </button>
              <div class="dropdown-menu dropdown-menu-right dropdown-menu-sm" aria-labelledby="settingsDropdown">
                <!-- Dropdown menu items -->
                <a class="dropdown-item" th:href="@{/logout}">LogOut</a>
              </div>
            </div>
            
          </div>            
      </nav>
  
      <!-- End Nav Bar-->

<!-- Start Side Bar-->
<div id="sidebar" class="d-flex flex-column flex-shrink-0 text-black bg-white col-2 mt-5 position-fixed" style="height: 92%;">
  <ul class="nav nav-underline flex-column mb-auto" style="padding-left: 40px;">
      <h5 style="margin-top: 20px;">Menu</h5>
      <li><a th:href="@{/adminmainmenu}"
          class="nav-link text-black d-flex justify-content-start"
          aria-current="page"><span class="material-symbols-outlined"
          style="margin-right: 20px;"> dashboard </span> Dashboard </a></li>
      <li class="nav-item"><a th:href="@{/view-account}"
            class="nav-link text-black d-flex justify-content-start">
            <span class="material-symbols-outlined"
            style="margin-right: 20px;"> person_apron </span> Account
      </a></li>
      <li class="nav-item"><a th:href="@{/admissionIn}"
          class="nav-link text-black d-flex justify-content-start">
              <span class="material-symbols-outlined"
              style="margin-right: 20px;"> group_add </span>Admission
      </a></li>
  <hr class="hr-line">

  <li><a th:href="@{/staff}"
    class="nav-link text-black d-flex justify-content-start"
    aria-current="page"><span class="material-symbols-outlined"
        style="margin-right: 20px;"> supervisor_account </span> Staff </a></li>
      
      <li><a th:href="@{/therapist}"
          class="nav-link text-black d-flex justify-content-start"
          aria-current="page"><span class="material-symbols-outlined"
              style="margin-right: 20px;"> psychology </span> Therapist </a></li>

      <li class="nav-item"><a th:href="@{/patient}"
          class="nav-link text-black active d-flex justify-content-start"><span
          class="material-symbols-outlined" style="margin-right: 20px;">ward </span>Patient</a></li>
      
          <li class="nav-item"><a href="#"
            class="nav-link text-black d-flex justify-content-start">
                <span class="material-symbols-outlined"
                style="margin-right: 20px;"> article </span>Record
        </a></li>
  </ul>
  <hr style="margin-bottom: 0px !important;">
</div>
<!-- End Side Bar-->
  <!-- Page Content -->
 
  <div class="container-fluid">
    <div class="text-center offset-2 justify-content-center" style="margin-top: 5%;">
      <h2>Update Patient Form</h2>
    </div>
    <div class="row offset-2 justify-content-center">
      <div class="col-6">
        <div class="card" style="border: solid 1px black;">
          <div class="card-body custom-form" style="background-color: #ffffff;">

      <form th:action="@{/update-patient?pId=} + ${patient.pId}" 
      th:object="${patients}" 
      method="post" 
      modelAttribute="patient">

        <div class="col mb-3">
          <label for="id" class="col-sm-2 col-form-label"></label>
          <div class="col-sm-10">
              <input type="hidden"
              th:value = "${patient.pId}"
               class="form-control"
               name="pId"
               placeholder="pId"
               id="id" readonly>
          </div>
          <form th:action="@{/patient}" method="post" modelAttribute="patient">
          <div class="card-body">
            <div class="container">
        <div class="form-row mt-4">
          <div class="form-group col-md-12">
            <label for="name">Name</label>
            <input type="text" 
            class="form-control" 
            id="name" 
            name="pName" 
            th:value="${patient.pName}" 
            placeholder="Name" required>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="ic">Ic Number</label>
            <input type="text" 
            class="form-control" 
            id="ic" 
            name="pIc" 
            th:value="${patient.pIc}" 
            placeholder="Ic Number" required>
          </div>

          <div class="form-group col-md-6">
            <label for="status">Status</label>
            <input type="text" 
            class="form-control" 
            id="status" 
            name="pStatus" 
            th:value="${patient.pStatus}" 
            placeholder="Status" required>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="sex">Sex</label>
            <input type="text" 
            class="form-control" 
            id="sex" 
            name="pSex" 
            th:value="${patient.pSex}" 
            placeholder="Sex" required>
          </div>

          <div class="form-group col-md-6">
            <label for="dob">Date of Birth</label>
            <input type="date" 
            class="form-control" 
            id="dob" 
            name="pDOB" 
            th:value="${patient.pDOB}" 
            placeholder="Date of Birth" required>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="phone">Phone No.</label>
            <input type="text" 
            class="form-control" 
            id="phone" 
            name="pPhoneNo" 
            th:value="${patient.pPhoneNo}" 
            placeholder="Phone No." required>
          </div>

          <div class="form-group col-md-6">
            <label for="address">Address</label>
            <input type="text" 
            class="form-control" 
            id="address" 
            name="pAddress" 
            th:value="${patient.pAddress}" 
            placeholder="Address" required>
        </div>
        </div>

        <div class="form-row ">
          <div class="form-group col-md-6">
            <label for="name">Date In</label>
            <input type="date" 
            class="form-control" 
            id="datein" 
            name="pDate" 
            th:value="${patient.pDate}" 
            placeholder="Date"required>
          </div>
          <div class="form-group col-md-6">
              <label for="bloodType">Blood Type</label>
              <input type="text" 
              class="form-control" 
              id="bloodType" 
              name="pBloodType" 
              th:value="${patient.pBloodType}" 
              placeholder="Blood Type" required>
            </div>
            </div>
        
          <div class="form-group col-md-6">
            <label for="drugType">Drug Type :</label>
            <div class="justify-content-center">
                  <div class="form-col">
                    <div class="justify-content-center">
                      <div class="form-check">
                        <input
                          name="pDrugType"
                          value="1"
                          class="form-check-input"
                          type="checkbox"
                          id="gridCheck1"
                          th:checked="${drugUsage.contains(1)}"
                        />
                        <label class="form-check-label" for="gridCheck1">
                          Cocaine 
                        </label>
                      </div>
                      <div class="form-check">
                        <input
                          name="pDrugType"
                          value="2"
                          class="form-check-input"
                          type="checkbox"
                          id="gridCheck1"
                          th:checked="${drugUsage.contains(2)}"
                        />
                        <label class="form-check-label" for="gridCheck1">
                          Heroin 
                        </label>
                      </div>
                  </div>
                  <div class="form-col">
                      <div class="form-check">
                        <input
                          name="pDrugType"
                          value="3"
                          class="form-check-input"
                          type="checkbox"
                          id="gridCheck1"
                          th:checked="${drugUsage.contains(3)}"
                        />
                        <label class="form-check-label" for="gridCheck1">
                          Weed
                        </label>
                      </div>
                      <div class="form-check">
                        <input
                          name="pDrugType"
                          value="4"
                          class="form-check-input"
                          type="checkbox"
                          id="gridCheck1"
                          th:checked="${drugUsage.contains(4)}"
                        />
                        <label class="form-check-label" for="gridCheck1">
                          Ecstasy
                        </label>
                      </div>
                  </div>
                  <div class="form-col">
                    <div class="form-check">
                      <input
                        name="pDrugType"
                        value="5"
                        class="form-check-input"
                        type="checkbox"
                        id="gridCheck1"
                        th:checked="${drugUsage.contains(5)}"
                      />
                      <label class="form-check-label" for="gridCheck1">
                        Methamphetamine
                      </label>
                    </div>
                    <div class="form-check">
                      <input
                        name="pDrugType"
                        value="6"
                        class="form-check-input"
                        type="checkbox"
                        id="gridCheck1"
                        th:checked="${drugUsage.contains(6)}"
                      />
                      <label class="form-check-label" for="gridCheck1">
                        Hallucinogens
                      </label>
                    </div>
                
                  </div>
              </div>
          </div>
        </div>
        </div>

        <div class="form-group text-center">
          <button type="reset" class="btn btn-secondary">Reset</button>
          <button type="submit" class="btn btn-primary">Submit</button>
        </div>
      </form>
    </div>
  </div>
  
    <footer class="d-flex justify-content-center col-8 offset-3">
      <p>&copy; <span id="currentYear"></span> Patient Management System. All rights reserved.</p>
    </footer>
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  </body>
</html>